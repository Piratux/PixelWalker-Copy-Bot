import { EelvlBlockId } from '@/gen/EelvlBlockId.ts'
import { ByteArray } from 'playerioclient'
import { EelvlFileHeader } from '@/type/EelvlFileHeader.ts'

export function hasEelvlBlockOneIntParameter(eelvlBlockId: number): boolean {
  return [
    EelvlBlockId.SCIFI_LASER_BLUE_CORNER_BOTTOMRIGHT,
    EelvlBlockId.SCIFI_LASER_BLUE_STRAIGHT_HORIZONTAL,
    EelvlBlockId.SCIFI_LASER_GREEN_CORNER_BOTTOMRIGHT,
    EelvlBlockId.SCIFI_LASER_GREEN_STRAIGHT_HORIZONTAL,
    EelvlBlockId.SCIFI_LASER_ORANGE_CORNER_BOTTOMRIGHT,
    EelvlBlockId.SCIFI_LASER_ORANGE_STRAIGHT_HORIZONTAL,
    EelvlBlockId.SCIFI_LASER_RED_CORNER_BOTTOMRIGHT,
    EelvlBlockId.SCIFI_LASER_RED_STRAIGHT_HORIZONTAL,
    EelvlBlockId.ONEWAY_WHITE_TOP,
    EelvlBlockId.ONEWAY_GRAY_TOP,
    EelvlBlockId.ONEWAY_BLACK_TOP,
    EelvlBlockId.ONEWAY_RED_TOP,
    EelvlBlockId.ONEWAY_ORANGE_TOP,
    EelvlBlockId.ONEWAY_YELLOW_TOP,
    EelvlBlockId.ONEWAY_GREEN_TOP,
    EelvlBlockId.ONEWAY_CYAN_TOP,
    EelvlBlockId.ONEWAY_BLUE_TOP,
    EelvlBlockId.ONEWAY_MAGENTA_TOP,
    EelvlBlockId.MEDIEVAL_AXE_TOP_RIGHT,
    EelvlBlockId.MEDIEVAL_SWORD_BOTTOM_RIGHT,
    EelvlBlockId.MEDIEVAL_SHIELD_CIRCLE_BLUE,
    EelvlBlockId.MEDIEVAL_SHIELD_CURVED_BLUE,
    EelvlBlockId.MEDIEVAL_BANNER_BLUE,
    EelvlBlockId.MEDIEVAL_SCAFFOLDING_STRAIGHT_HORIZONTAL,
    EelvlBlockId.MONSTER_TEETH_LARGE_BOTTOM,
    EelvlBlockId.MONSTER_TEETH_SMALL_BOTTOM,
    EelvlBlockId.MONSTER_TEETH_MEDIUM_BOTTOM,
    EelvlBlockId.DOJO_ROOFTOP_BLUE_LEFT,
    EelvlBlockId.DOJO_ROOFTOP_BLUE_RIGHT,
    EelvlBlockId.DOJO_ROOFTOP_BLUE_DARK_LEFT,
    EelvlBlockId.DOJO_ROOFTOP_BLUE_DARK_RIGHT,
    EelvlBlockId.DOMESTIC_LIGHT_BULB_TOP_ON,
    EelvlBlockId.DOMESTIC_BOTTOM_RIGHT,
    EelvlBlockId.DOMESTIC_PAINTING_BLUE,
    EelvlBlockId.DOMESTIC_VASE_YELLOW,
    EelvlBlockId.DOMESTIC_TELEVISION_BLACK,
    EelvlBlockId.DOMESTIC_WINDOW_BLACK,
    EelvlBlockId.DOMESTIC_HALF_YELLOW_BOTTOM,
    EelvlBlockId.DOMESTIC_HALF_BROWN_BOTTOM,
    EelvlBlockId.DOMESTIC_HALF_WHITE_BOTTOM,
    EelvlBlockId.HAUNTED_WINDOW_CURVED_OFF,
    EelvlBlockId.HAUNTED_WINDOW_CIRCLE_OFF,
    EelvlBlockId.HAUNTED_LANTERN_OFF,
    EelvlBlockId.NEWYEARS_BALLOON_ORANGE,
    EelvlBlockId.NEWYEARS_STREAMER_ORANGE,
    EelvlBlockId.FAIRYTALE_HALF_ORANGE_BOTTOM,
    EelvlBlockId.FAIRYTALE_HALF_GREEN_BOTTOM,
    EelvlBlockId.FAIRYTALE_HALF_BLUE_BOTTOM,
    EelvlBlockId.FAIRYTALE_HALF_PINK_BOTTOM,
    EelvlBlockId.FAIRYTALE_FLOWER_BLUE,
    EelvlBlockId.SPRING_DAISY_WHITE,
    EelvlBlockId.SPRING_TULIP_RED,
    EelvlBlockId.SPRING_DAFFODIL_YELLOW,
    EelvlBlockId.RETAIL_FLAG_RED,
    EelvlBlockId.RETAIL_AWNING_RED,
    EelvlBlockId.SUMMER_ICE_CREAM_VANILLA,
    EelvlBlockId.MINE_CRYSTAL_RED,
    EelvlBlockId.RESTAURANT_GLASS_EMPTY,
    EelvlBlockId.RESTAURANT_PLATE_EMPTY,
    EelvlBlockId.RESTAURANT_BOWL_EMPTY,
    EelvlBlockId.HALLOWEEN_TREE_BRANCH_BOTTOM_RIGHT,
    EelvlBlockId.HALLOWEEN_PUMPKIN_OFF,
    EelvlBlockId.HALLOWEEN_EYES_ORANGE,
    EelvlBlockId.CHRISTMAS_STRING_LIGHT_BOTTOM_RED,
    EelvlBlockId.CHRISTMAS_STRING_LIGHT_TOP_RED,
    EelvlBlockId.HALFBLOCKS_WHITE_BOTTOM,
    EelvlBlockId.HALFBLOCKS_GRAY_BOTTOM,
    EelvlBlockId.HALFBLOCKS_BLACK_BOTTOM,
    EelvlBlockId.HALFBLOCKS_RED_BOTTOM,
    EelvlBlockId.HALFBLOCKS_ORANGE_BOTTOM,
    EelvlBlockId.HALFBLOCKS_YELLOW_BOTTOM,
    EelvlBlockId.HALFBLOCKS_GREEN_BOTTOM,
    EelvlBlockId.HALFBLOCKS_CYAN_BOTTOM,
    EelvlBlockId.HALFBLOCKS_BLUE_BOTTOM,
    EelvlBlockId.HALFBLOCKS_MAGENTA_BOTTOM,
    EelvlBlockId.INDUSTRIAL_PIPE_DECORATION_HORIZONTAL,
    EelvlBlockId.INDUSTRIAL_PIPE_THIN_HORIZONTAL,
    EelvlBlockId.INDUSTRIAL_PISTON_BOTTOM,
    EelvlBlockId.DOMESTIC_PIPE_STRAIGHT_HORIZONTAL,
    EelvlBlockId.DOMESTIC_PIPE_T_BOTTOM,
    EelvlBlockId.DOMESTIC_FRAME_BORDER_FULL,
    EelvlBlockId.WINTER_HALF_SNOW_BOTTOM,
    EelvlBlockId.WINTER_HALF_ICE_BOTTOM,
    EelvlBlockId.FIREWORKS,
    EelvlBlockId.TOXIC_WASTE_BARREL_OFF,
    EelvlBlockId.TOXIC_SEWER_DRAIN_EMPTY,
    EelvlBlockId.TOXIC_ONEWAY_RUSTED_TOP,
    EelvlBlockId.DUNGEON_PILLAR_BOTTOM_GRAY,
    EelvlBlockId.DUNGEON_PILLAR_MIDDLE_GRAY,
    EelvlBlockId.DUNGEON_ONEWAY_PILLAR_TOP_GRAY,
    EelvlBlockId.DUNGEON_STEEL_ARC_LEFT_GRAY,
    EelvlBlockId.DUNGEON_PILLAR_ARC_RIGHT_GRAY,
    EelvlBlockId.BORDER_GLOW_LINE_TOP,
    EelvlBlockId.BORDER_GLOW_CORNER_TOP_RIGHT,
    EelvlBlockId.BORDER_GLOW_STRAIGHT_HORIZONTAL,
    EelvlBlockId.BORDER_GLOW_CUP_LEFT,
    EelvlBlockId.BORDER_GLOW_POINT_TOP_RIGHT,
    EelvlBlockId.BORDER_GLOW_POINT_TOP_RIGHT_BOTTOM_RIGHT,
    EelvlBlockId.BORDER_GLOW_POINT_TOP_RIGHT_BOTTOM_LEFT,
    EelvlBlockId.BORDER_GLOW_POINT_TOP_RIGHT_BOTTOM_LEFT_BOTTOM_RIGHT,
    EelvlBlockId.BORDER_GLOW_LINE_TOP_POINT_BOTTOM_RIGHT,
    EelvlBlockId.BORDER_GLOW_LINE_TOP_POINT_BOTTOM_LEFT,
    EelvlBlockId.BORDER_GLOW_LINE_TOP_POINT_BOTTOM_LEFT_BOTTOM_RIGHT,
    EelvlBlockId.BORDER_GLOW_CORNER_TOP_RIGHT_POINT_BOTTOM_LEFT,
    EelvlBlockId.DUNGEON_TORCH_YELLOW,
    EelvlBlockId.CHRISTMAS_GIFT_HALF_RED,
    EelvlBlockId.CHRISTMAS_GIFT_HALF_GREEN,
    EelvlBlockId.CHRISTMAS_GIFT_HALF_WHITE,
    EelvlBlockId.CHRISTMAS_GIFT_HALF_BLUE,
    EelvlBlockId.CHRISTMAS_GIFT_HALF_YELLOW,
    EelvlBlockId.COIN_GOLD_DOOR,
    EelvlBlockId.COIN_BLUE_DOOR,
    EelvlBlockId.COIN_GOLD_GATE,
    EelvlBlockId.COIN_BLUE_GATE,
    EelvlBlockId.SWITCH_LOCAL_TOGGLE,
    EelvlBlockId.SWITCH_LOCAL_ACTIVATOR,
    EelvlBlockId.SWITCH_LOCAL_GATE,
    EelvlBlockId.SWITCH_LOCAL_DOOR,
    EelvlBlockId.SWITCH_GLOBAL_TOGGLE,
    EelvlBlockId.SWITCH_GLOBAL_ACTIVATOR,
    EelvlBlockId.SWITCH_GLOBAL_GATE,
    EelvlBlockId.SWITCH_GLOBAL_DOOR,
    EelvlBlockId.HAZARD_DEATH_GATE,
    EelvlBlockId.HAZARD_DEATH_DOOR,
    EelvlBlockId.TEAM_EFFECT_NONE,
    EelvlBlockId.TEAM_NONE_GATE,
    EelvlBlockId.TEAM_NONE_DOOR,
    EelvlBlockId.EFFECTS_JUMP_HEIGHT,
    EelvlBlockId.EFFECTS_FLY,
    EelvlBlockId.EFFECTS_SPEED,
    EelvlBlockId.EFFECTS_GRAVITYFORCE,
    EelvlBlockId.EFFECTS_INVULNERABILITY,
    EelvlBlockId.EFFECTS_CURSE,
    EelvlBlockId.EFFECTS_MULTI_JUMP,
    EelvlBlockId.EFFECTS_GRAVITY_DOWN,
    EelvlBlockId.EFFECTS_POISON,
    EelvlBlockId.EFFECTS_ZOMBIE,
    EelvlBlockId.TOOL_PORTAL_WORLD_SPAWN,
    EelvlBlockId.NOTE_GUITAR,
    EelvlBlockId.NOTE_DRUM,
    EelvlBlockId.NOTE_PIANO,
    EelvlBlockId.HAZARD_SPIKES_BROWN_UP,
    EelvlBlockId.HAZARD_SPIKES_WHITE_UP,
    EelvlBlockId.HAZARD_SPIKES_GRAY_UP,
    EelvlBlockId.HAZARD_SPIKES_RED_UP,
    EelvlBlockId.HAZARD_SPIKES_YELLOW_UP,
    EelvlBlockId.HAZARD_SPIKES_GREEN_UP,
    EelvlBlockId.HAZARD_SPIKES_BLUE_UP,
  ].includes(eelvlBlockId)
}

export function isEelvlNpc(eelvlBlockId: number): boolean {
  return [
    EelvlBlockId.NPC_SMILE,
    EelvlBlockId.NPC_SAD,
    EelvlBlockId.NPC_OLD,
    EelvlBlockId.NPC_ANGRY,
    EelvlBlockId.NPC_SLIME,
    EelvlBlockId.NPC_ROBOT,
    EelvlBlockId.NPC_KNIGHT,
    EelvlBlockId.NPC_MEH,
    EelvlBlockId.NPC_COW,
    EelvlBlockId.NPC_FROG,
    EelvlBlockId.NPC_BRUCE,
    EelvlBlockId.NPC_STARFISH,
    EelvlBlockId.NPC_DT,
    EelvlBlockId.NPC_SKELETON,
    EelvlBlockId.NPC_ZOMBIE,
    EelvlBlockId.NPC_GHOST,
    EelvlBlockId.NPC_ASTRONAUT,
    EelvlBlockId.NPC_SANTA,
    EelvlBlockId.NPC_SNOWMAN,
    EelvlBlockId.NPC_WALRUS,
    EelvlBlockId.NPC_CRAB,
  ].includes(eelvlBlockId)
}

export function writeEeelvlFileHeader(bytes: ByteArray, world: EelvlFileHeader) {
  bytes.writeUTF(world.ownerName)
  bytes.writeUTF(world.name)
  bytes.writeInt(world.width)
  bytes.writeInt(world.height)
  bytes.writeFloat(world.gravMultiplier)
  bytes.writeUnsignedInt(world.backgroundColor)
  bytes.writeUTF(world.description)
  bytes.writeBoolean(world.isCampaign)
  bytes.writeUTF(world.crewId)
  bytes.writeUTF(world.crewName)
  bytes.writeInt(world.crewStatus)
  bytes.writeBoolean(world.minimapEnabled)
  bytes.writeUTF(world.ownerId)
}
